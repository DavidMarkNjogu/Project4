{% extends "base.html" %}  <!-- Extending the base template -->

{% block content %}
    <h1>Book a Property</h1>
    <form method="POST" id="bookingForm">
        {% csrf_token %}  <!-- CSRF token for security -->
       
        <label for="property_id">Select Property:</label>
        <select name="property_id" id="property_id" required>
            <option value="">-- Select a Property --</option>
            {% for listing in listings %}
                <option value="{{ listing.id }}">{{ listing.title }}</option>  <!-- Display only property title -->
            {% endfor %}
        </select>
        <input type="date" name="start_date" required>
        <input type="date" name="end_date" required>
        <button type="submit">Book Now</button>
    </form>
    
    {% if success_message %}
        <div style="color: green;">{{ success_message }}</div>  <!-- Display success message -->
    {% endif %}
    
    {% if error_message %}
        <div style="color: red;">{{ error_message }}</div>  <!-- Display error message -->
    {% endif %}
{% endblock %}